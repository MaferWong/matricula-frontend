{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Wong\\\\Documents\\\\Projects\\\\Matricula\\\\matricula\\\\src\\\\components\\\\container\\\\profesor\\\\profesor.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { CommandBar, DefaultButton, DetailsListLayoutMode, Dialog, DialogFooter, DialogType, IconButton, Panel, PrimaryButton, SearchBox, Selection, SelectionMode, ShimmeredDetailsList } from '@fluentui/react';\nimport './profesor.css';\nimport { restClient } from '../../../services/restClient';\nimport { ProfesorForm } from './profesorForm';\nexport const Profesor = () => {\n  _s();\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [isOpenAlert, setIsOpenAlert] = useState(true);\n  const [profesores, setProfesores] = useState(undefined); //data.map(item => ({ ...item, nombreCurso: item.curso.nombre }))\n\n  const [filtro, setFiltro] = useState([]);\n  const [profesor, setProfesor] = useState();\n  const [acccion, setAccion] = useState('New');\n  useEffect(() => {\n    fetchProfesores();\n  }, []);\n\n  const fetchProfesores = async () => {\n    const response = await restClient.httpGet('/profesor');\n\n    if (!response.length) {\n      return;\n    }\n\n    setProfesores(response.map(item => ({ ...item,\n      nombreMateria: item.materia.nombre,\n      nombrePais: item.pais.nombre\n    })));\n  };\n\n  const handleRefreshClick = () => {\n    setProfesores(undefined);\n    fetchProfesores();\n  };\n\n  const handleDismissClick = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const handleNuevoProfesorClick = () => {\n    setAccion('New');\n    setIsOpen(true);\n  };\n\n  const handleRemoveProfesorClick = () => {\n    setIsOpenAlert(false);\n  };\n\n  const seleccion = new Selection({\n    onSelectionChanged: () => {\n      const itemSeleccionado = seleccion.getSelection();\n      setProfesor(itemSeleccionado.length ? itemSeleccionado[0] : null);\n    }\n  });\n\n  const handleSearchProfesor = value => {\n    if (!value) {\n      setProfesores(undefined);\n      setFiltro([]);\n      fetchProfesores();\n      return;\n    }\n\n    const dataFilter = profesores && profesores.filter(item => item.nombre.toUpperCase().includes(value.toUpperCase()));\n    setFiltro(dataFilter);\n  };\n\n  const handleDismissAlertClick = () => {\n    setIsOpenAlert(true);\n  };\n\n  const handleEditProfesorClick = () => {\n    if (!profesor) return 'Selecione un profesor';\n    setAccion('Edit');\n    setIsOpen(true);\n  };\n\n  const handleRemoverProfesorClick = async () => {\n    if (!profesor) return;\n    const response = await restClient.httpDelete('/profesor', profesor.id);\n\n    if (response === 'success') {\n      handleDismissAlertClick();\n      setProfesores(undefined);\n      fetchProfesores();\n    }\n  };\n\n  const handleNoRemoverProfesorClick = () => {\n    handleDismissAlertClick();\n  };\n\n  const onRenderEdit = row => /*#__PURE__*/_jsxDEV(IconButton, {\n    iconProps: {\n      iconName: 'Edit'\n    },\n    onClick: handleEditProfesorClick\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 35\n  }, this);\n\n  const onRenderDelete = row => /*#__PURE__*/_jsxDEV(IconButton, {\n    iconProps: {\n      iconName: 'Delete'\n    },\n    onClick: handleRemoveProfesorClick\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 37\n  }, this);\n\n  const columns = [{\n    key: 'onRenderEdit',\n    name: '',\n    fieldName: '',\n    minWidth: 30,\n    maxWidth: 30,\n    isResizable: true,\n    onRender: onRenderEdit\n  }, {\n    key: 'onRenderDelete',\n    name: '',\n    fieldName: '',\n    minWidth: 30,\n    maxWidth: 30,\n    isResizable: true,\n    onRender: onRenderDelete\n  }, {\n    key: 'column1',\n    name: 'Id',\n    fieldName: 'id',\n    minWidth: 100,\n    maxWidth: 200,\n    isResizable: true\n  }, {\n    key: 'column2',\n    name: 'Profesor',\n    fieldName: 'nombre',\n    minWidth: 100,\n    maxWidth: 200,\n    isResizable: true\n  }, {\n    key: 'column3',\n    name: 'Edad',\n    fieldName: 'edad',\n    minWidth: 100,\n    maxWidth: 200,\n    isResizable: true\n  }, {\n    key: 'column4',\n    name: 'Sexo',\n    fieldName: 'sexo',\n    minWidth: 100,\n    maxWidth: 200,\n    isResizable: true\n  }, {\n    key: 'column5',\n    name: 'Correo',\n    fieldName: 'correo',\n    minWidth: 100,\n    maxWidth: 200,\n    isResizable: true\n  }, {\n    key: 'column6',\n    name: 'PaisId',\n    fieldName: 'paisId',\n    minWidth: 100,\n    maxWidth: 200,\n    isResizable: true\n  }, {\n    key: 'column7',\n    name: 'Nombre Pais',\n    fieldName: 'nombrePais',\n    minWidth: 100,\n    maxWidth: 200,\n    isResizable: true\n  }, {\n    key: 'column8',\n    name: 'MateriaId',\n    fieldName: 'materiaId',\n    minWidth: 100,\n    maxWidth: 200,\n    isResizable: true\n  }, {\n    key: 'column9',\n    name: 'Nombre Materia',\n    fieldName: 'nombreMateria',\n    minWidth: 100,\n    maxWidth: 200,\n    isResizable: true\n  }];\n  const isDisableButton = profesor ? false : true;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profesor\",\n    children: [/*#__PURE__*/_jsxDEV(CommandBar // Esta es la barra de comandos en donde están los botones para agregar, editar, etc.\n    , {\n      items: [{\n        key: 'refresh',\n        text: 'Refresh',\n        iconProps: {\n          iconName: 'Refresh'\n        },\n        onClick: handleRefreshClick\n      }, {\n        key: 'nuevoProfesor',\n        text: 'New',\n        iconProps: {\n          iconName: 'Add'\n        },\n        onClick: handleNuevoProfesorClick\n      }, {\n        key: 'removerProfesor',\n        text: 'Remove',\n        iconProps: {\n          iconName: 'Delete'\n        },\n        onClick: handleRemoveProfesorClick,\n        disabled: isDisableButton\n      }, {\n        key: 'editarProfesor',\n        text: 'Editar Profesor',\n        iconProps: {\n          iconName: 'Edit'\n        },\n        onClick: handleEditProfesorClick,\n        disabled: isDisableButton\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SearchBox // Control de búsqueda\n    , {\n      styles: {\n        root: {\n          width: '300px'\n        }\n      },\n      placeholder: \"Buscar...\",\n      onSearch: handleSearchProfesor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contenedorLista\",\n      children: /*#__PURE__*/_jsxDEV(ShimmeredDetailsList, {\n        items: filtro.length ? filtro : profesores,\n        columns: columns,\n        layoutMode: DetailsListLayoutMode.justified,\n        selection: seleccion,\n        selectionPreservedOnEmptyClick: true,\n        selectionMode: SelectionMode.single,\n        enableShimmer: !profesores\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Panel // Este es el panel que sale del lado derecho para agregar o editar información\n    , {\n      headerText: acccion === 'New' ? \"Nuevo Profesor\" : \"Editar Profesor\" // Aquí se valida si el título de header es para hacer uno nuevo o para editar, esto debido a que se esta reutilizando el mismo panel\n      ,\n      isOpen: isOpen,\n      onDismiss: handleDismissClick,\n      customWidth: \"700px\",\n      children: /*#__PURE__*/_jsxDEV(ProfesorForm // Este es el formulario que contiene los controles con la información\n      , {\n        fetchProfesores: fetchProfesores // Hace un GET a la API\n        ,\n        profesorSeleccionado: profesor || {},\n        acccion: acccion,\n        onDismiss: handleDismissClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog // Ventana de diálogo que aparece cuándo se desea remover un registro\n    , {\n      hidden: isOpenAlert,\n      onDismiss: handleDismissAlertClick,\n      dialogContentProps: {\n        type: DialogType.normal,\n        title: 'Remove Profesor',\n        closeButtonAriaLabel: 'Close',\n        subText: 'Remove Profesor?'\n      },\n      modalProps: {\n        titleAriaId: '',\n        subtitleAriaId: '',\n        isBlocking: false,\n        styles: {\n          main: {\n            maxWidth: 450\n          }\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(DialogFooter // Esto muestra los dos botones en la parte inferior, conultando se desea o no eliminar el registro\n      , {\n        children: [/*#__PURE__*/_jsxDEV(PrimaryButton, {\n          onClick: handleRemoverProfesorClick,\n          text: \"Si\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DefaultButton, {\n          onClick: handleNoRemoverProfesorClick,\n          text: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Profesor, \"QZUp6mTAhazpeJ/7gFgoX4WHpjk=\");\n\n_c = Profesor;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profesor\");","map":{"version":3,"sources":["C:/Users/Wong/Documents/Projects/Matricula/matricula/src/components/container/profesor/profesor.js"],"names":["React","useEffect","useState","CommandBar","DefaultButton","DetailsListLayoutMode","Dialog","DialogFooter","DialogType","IconButton","Panel","PrimaryButton","SearchBox","Selection","SelectionMode","ShimmeredDetailsList","restClient","ProfesorForm","Profesor","isOpen","setIsOpen","isOpenAlert","setIsOpenAlert","profesores","setProfesores","undefined","filtro","setFiltro","profesor","setProfesor","acccion","setAccion","fetchProfesores","response","httpGet","length","map","item","nombreMateria","materia","nombre","nombrePais","pais","handleRefreshClick","handleDismissClick","handleNuevoProfesorClick","handleRemoveProfesorClick","seleccion","onSelectionChanged","itemSeleccionado","getSelection","handleSearchProfesor","value","dataFilter","filter","toUpperCase","includes","handleDismissAlertClick","handleEditProfesorClick","handleRemoverProfesorClick","httpDelete","id","handleNoRemoverProfesorClick","onRenderEdit","row","iconName","onRenderDelete","columns","key","name","fieldName","minWidth","maxWidth","isResizable","onRender","isDisableButton","text","iconProps","onClick","disabled","root","width","justified","single","type","normal","title","closeButtonAriaLabel","subText","titleAriaId","subtitleAriaId","isBlocking","styles","main"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { CommandBar, DefaultButton, DetailsListLayoutMode, Dialog, DialogFooter, DialogType, IconButton, Panel, PrimaryButton, SearchBox, Selection, SelectionMode, ShimmeredDetailsList } from '@fluentui/react';\r\nimport './profesor.css'\r\nimport { restClient } from '../../../services/restClient';\r\nimport { ProfesorForm } from './profesorForm';\r\n\r\nexport const Profesor = () => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [isOpenAlert, setIsOpenAlert] = useState(true);\r\n    const [profesores, setProfesores] = useState(undefined); //data.map(item => ({ ...item, nombreCurso: item.curso.nombre }))\r\n    const [filtro, setFiltro] = useState([]);\r\n    const [profesor, setProfesor] = useState();\r\n    const [acccion, setAccion] = useState('New');\r\n\r\n    useEffect(() => {\r\n        fetchProfesores();\r\n    }, []);\r\n\r\n    const fetchProfesores = async () => {\r\n        const response = await restClient.httpGet('/profesor');\r\n\r\n        if (!response.length) {\r\n            return;\r\n        }\r\n\r\n        setProfesores(response.map(item => ({ ...item, nombreMateria: item.materia.nombre, nombrePais: item.pais.nombre })));\r\n    }\r\n\r\n    const handleRefreshClick = () => {\r\n        setProfesores(undefined);\r\n\r\n        fetchProfesores();\r\n    }\r\n\r\n    const handleDismissClick = () => {\r\n        setIsOpen(!isOpen);\r\n    }\r\n\r\n    const handleNuevoProfesorClick = () => {\r\n        setAccion('New');\r\n        setIsOpen(true);\r\n    }\r\n\r\n    const handleRemoveProfesorClick = () => {\r\n        setIsOpenAlert(false);\r\n    }\r\n\r\n    const seleccion = new Selection({\r\n        onSelectionChanged: () => {\r\n            const itemSeleccionado = seleccion.getSelection();\r\n\r\n            setProfesor(itemSeleccionado.length ? itemSeleccionado[0] : null);\r\n\r\n        },\r\n    });\r\n\r\n    const handleSearchProfesor = value => {\r\n\r\n        if (!value) {\r\n            setProfesores(undefined);\r\n            setFiltro([]);\r\n            fetchProfesores();\r\n\r\n            return;\r\n        }\r\n\r\n        const dataFilter = profesores && profesores.filter(item => item.nombre.toUpperCase().includes(value.toUpperCase()));\r\n\r\n        setFiltro(dataFilter);\r\n    }\r\n\r\n    const handleDismissAlertClick = () => {\r\n        setIsOpenAlert(true);\r\n    }\r\n\r\n    const handleEditProfesorClick = () => {\r\n        if (!profesor) return 'Selecione un profesor';\r\n\r\n        setAccion('Edit');\r\n        setIsOpen(true);\r\n    }\r\n\r\n    const handleRemoverProfesorClick = async () => {\r\n        if (!profesor) return;\r\n\r\n        const response = await restClient.httpDelete('/profesor', profesor.id);\r\n\r\n        if (response === 'success') {\r\n            handleDismissAlertClick();\r\n            setProfesores(undefined);\r\n            fetchProfesores();\r\n        }\r\n    }\r\n\r\n    const handleNoRemoverProfesorClick = () => {\r\n        handleDismissAlertClick();\r\n    }\r\n\r\n    const onRenderEdit = (row) => <IconButton iconProps={{ iconName: 'Edit' }} onClick={handleEditProfesorClick} />\r\n    const onRenderDelete = (row) => <IconButton iconProps={{ iconName: 'Delete' }} onClick={handleRemoveProfesorClick} />\r\n\r\n    const columns = [\r\n        { key: 'onRenderEdit', name: '', fieldName: '', minWidth: 30, maxWidth: 30, isResizable: true, onRender: onRenderEdit },\r\n        { key: 'onRenderDelete', name: '', fieldName: '', minWidth: 30, maxWidth: 30, isResizable: true, onRender: onRenderDelete },\r\n        { key: 'column1', name: 'Id', fieldName: 'id', minWidth: 100, maxWidth: 200, isResizable: true },\r\n        { key: 'column2', name: 'Profesor', fieldName: 'nombre', minWidth: 100, maxWidth: 200, isResizable: true },\r\n        { key: 'column3', name: 'Edad', fieldName: 'edad', minWidth: 100, maxWidth: 200, isResizable: true },\r\n        { key: 'column4', name: 'Sexo', fieldName: 'sexo', minWidth: 100, maxWidth: 200, isResizable: true },\r\n        { key: 'column5', name: 'Correo', fieldName: 'correo', minWidth: 100, maxWidth: 200, isResizable: true },\r\n        { key: 'column6', name: 'PaisId', fieldName: 'paisId', minWidth: 100, maxWidth: 200, isResizable: true },\r\n        { key: 'column7', name: 'Nombre Pais', fieldName: 'nombrePais', minWidth: 100, maxWidth: 200, isResizable: true },\r\n        { key: 'column8', name: 'MateriaId', fieldName: 'materiaId', minWidth: 100, maxWidth: 200, isResizable: true },\r\n        { key: 'column9', name: 'Nombre Materia', fieldName: 'nombreMateria', minWidth: 100, maxWidth: 200, isResizable: true },\r\n    ]\r\n\r\n    const isDisableButton = profesor ? false : true;\r\n\r\n    return (\r\n        <div className=\"profesor\">\r\n\r\n            <CommandBar // Esta es la barra de comandos en donde están los botones para agregar, editar, etc.\r\n                items={[{\r\n                    key: 'refresh',\r\n                    text: 'Refresh',\r\n                    iconProps: { iconName: 'Refresh' },\r\n                    onClick: handleRefreshClick,\r\n                }, {\r\n                    key: 'nuevoProfesor',\r\n                    text: 'New',\r\n                    iconProps: { iconName: 'Add' },\r\n                    onClick: handleNuevoProfesorClick,\r\n                },\r\n                {\r\n                    key: 'removerProfesor',\r\n                    text: 'Remove',\r\n                    iconProps: { iconName: 'Delete' },\r\n                    onClick: handleRemoveProfesorClick,\r\n                    disabled: isDisableButton\r\n                }, {\r\n                    key: 'editarProfesor',\r\n                    text: 'Editar Profesor',\r\n                    iconProps: { iconName: 'Edit' },\r\n                    onClick: handleEditProfesorClick,\r\n                    disabled: isDisableButton\r\n                }]}\r\n            />\r\n\r\n            <SearchBox // Control de búsqueda\r\n                styles={{ root: { width: '300px' } }} placeholder=\"Buscar...\" onSearch={handleSearchProfesor} />\r\n\r\n            <div className=\"contenedorLista\">\r\n                <ShimmeredDetailsList\r\n                    items={filtro.length ? filtro : profesores}\r\n                    columns={columns}\r\n                    layoutMode={DetailsListLayoutMode.justified}\r\n                    selection={seleccion}\r\n                    selectionPreservedOnEmptyClick={true}\r\n                    selectionMode={SelectionMode.single}\r\n                    enableShimmer={!profesores}\r\n                />\r\n            </div>\r\n\r\n            <Panel // Este es el panel que sale del lado derecho para agregar o editar información\r\n                headerText={acccion === 'New' ? \"Nuevo Profesor\" : \"Editar Profesor\"} // Aquí se valida si el título de header es para hacer uno nuevo o para editar, esto debido a que se esta reutilizando el mismo panel\r\n                isOpen={isOpen}\r\n                onDismiss={handleDismissClick}\r\n                customWidth=\"700px\"\r\n            >\r\n                <ProfesorForm // Este es el formulario que contiene los controles con la información\r\n                    fetchProfesores={fetchProfesores} // Hace un GET a la API\r\n                    profesorSeleccionado={profesor || {}}\r\n                    acccion={acccion}\r\n                    onDismiss={handleDismissClick}\r\n                />\r\n            </Panel>\r\n\r\n            <Dialog // Ventana de diálogo que aparece cuándo se desea remover un registro\r\n                hidden={isOpenAlert}\r\n                onDismiss={handleDismissAlertClick}\r\n                dialogContentProps={{\r\n                    type: DialogType.normal,\r\n                    title: 'Remove Profesor',\r\n                    closeButtonAriaLabel: 'Close',\r\n                    subText: 'Remove Profesor?',\r\n                }}\r\n                modalProps={{\r\n                    titleAriaId: '',\r\n                    subtitleAriaId: '',\r\n                    isBlocking: false,\r\n                    styles: { main: { maxWidth: 450 } },\r\n                }}\r\n            >\r\n\r\n                <DialogFooter\r\n                // Esto muestra los dos botones en la parte inferior, conultando se desea o no eliminar el registro\r\n                >\r\n                    <PrimaryButton onClick={handleRemoverProfesorClick} text=\"Si\" />\r\n                    <DefaultButton onClick={handleNoRemoverProfesorClick} text=\"No\" />\r\n                </DialogFooter>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}